<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DISH PAY Rechner</title>
    <!-- Einbindung von jsPDF für die PDF-Funktion -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
</head>
<body>

<div class="container">
    <h1>DISH PAY Rechner</h1>
    <h3>Kostenberechnung</h3>

    <!-- Dropdown zur Auswahl der Berechnungsart -->
    <label for="calculationType">Berechnungsart: <span>*</span></label>
    <select id="calculationType" onchange="toggleCalculationFields()">
        <option value="schnell">Schnelle Berechnung</option>
        <option value="ausführlich">Ausführliche Berechnung</option>
    </select>

    <!-- Felder für Umsatz und Transaktionen, die immer angezeigt werden -->
    <label for="monthlyVolume">Geplanter Kartenumsatz pro Monat (€): <span>*</span></label>
    <input type="number" id="monthlyVolume" placeholder="z.B. 20000" min="0" required>

    <label for="transactions">Erwartete Anzahl an monatlichen Transaktionen: <span>*</span></label>
    <input type="number" id="transactions" placeholder="z.B. 400" min="0" required>

    <label for="girocard">Girocard (%): <span>*</span></label>
    <input type="number" id="girocard" placeholder="z.B. 70" step="0.01" min="0" max="100" required>

    <label for="mastercardVisa">Mastercard / VISA (%): <span>*</span></label>
    <input type="number" id="mastercardVisa" placeholder="z.B. 30" step="0.01" min="0" max="100" required>

    <!-- Hardware-Auswahl immer anzeigen -->
    <label for="purchaseOption">Kauf oder Miete: <span>*</span></label>
    <select id="purchaseOption" onchange="toggleRentalOptions(); updateRentalPrices();">
        <option value="mieten">Mieten</option>
        <option value="kaufen">Kaufen</option>
    </select>

    <!-- Hardware Dropdown -->
    <div id="hardwareOptions">
        <label for="hardware">Hardware auswählen: <span>*</span></label>
        <select id="hardware" onchange="updateRentalPrices()">
            <option value="S1F2" data-price-once="499.00" data-price-12="44.90" data-price-36="18.90" data-price-60="14.90">S1F2 Terminal</option>
            <option value="V400C" data-price-once="399.00" data-price-12="39.90" data-price-36="16.90" data-price-60="12.90">V400C Terminal</option>
            <option value="MotoG14" data-price-once="119.00" data-price-12="7.90" data-price-36="0" data-price-60="0">Moto G14 Terminal</option>
            <option value="Tap2Pay" data-price-once="0" data-price-12="7.90" data-price-36="0" data-price-60="0">Tap2Pay Lizenz</option>
        </select>
    </div>

    <!-- Mietoptionen für den Mietzeitraum -->
    <div id="rentalOptions">
        <label for="rentalPeriod">Mietdauer: <span>*</span></label>
        <select id="rentalPeriod">
            <option value="12">12 Monate</option>
            <option value="36">36 Monate</option>
            <option value="60">60 Monate</option>
        </select>
    </div>

    <!-- Zusätzliche Felder für die ausführliche Berechnung -->
    <div id="detailedFields" style="display: none;">
        <label for="maestro">Maestro / VPAY (%):</label>
        <input type="number" id="maestro" placeholder="z.B. 0" step="0.01" min="0" max="100">

        <label for="businessCard">Business Card (%):</label>
        <input type="number" id="businessCard" placeholder="z.B. 0" step="0.01" min="0" max="100">

        <!-- Wettbewerber Optionen -->
        <h4>Wettbewerber Gebühren:</h4>
        <label for="competitorGirocardFee">Girocard Gebühr (%):</label>
        <input type="number" id="competitorGirocardFee" placeholder="z.B. 0.39" step="0.01" min="0">

        <label for="competitorMaestroFee">Maestro / VPAY Gebühr (%):</label>
        <input type="number" id="competitorMaestroFee" placeholder="z.B. 0.89" step="0.01" min="0">

        <label for="competitorMastercardVisaFee">Mastercard / VISA Gebühr (%):</label>
        <input type="number" id="competitorMastercardVisaFee" placeholder="z.B. 0.89" step="0.01" min="0">

        <label for="competitorBusinessCardFee">Business Card Gebühr (%):</label>
        <input type="number" id="competitorBusinessCardFee" placeholder="z.B. 2.89" step="0.01" min="0">
    </div>

    <!-- Berechnungsbuttons -->
    <button onclick="calculateCosts()">Berechnen</button>
    <button onclick="downloadPDF()">PDF Angebot herunterladen</button>

    <!-- Ergebnisbereich -->
    <div id="result">
        <h3>Ergebnisse:</h3>
        <div class="result-section">
            <p id="oneTimeCost"></p>
            <p id="monthlyCost"></p>
            <p id="disagioFees"></p>
            <p id="transactionFee"></p>
            <p id="simServiceFee"></p>
            <p id="totalCost"></p>
            <p id="competitorTotal"></p>
            <p id="competitorSavings"></p>
        </div>
    </div>

    <!-- Informationsfeld zu Gebühren -->
    <div class="info-section">
        <h4>Hinweis zu den Gebühren:</h4>
        <ul>
            <li><b>Transaktionspreis:</b> 0,06 € pro Transaktion</li>
            <li><b>Girocard-Gebühr bis 10.000 € monatlich:</b> 0,39%</li>
            <li><b>Girocard-Gebühr über 10.000 € monatlich:</b> 0,29%</li>
            <li><b>Disagio Maestro / VPAY:</b> 0,89%</li>
            <li><b>Disagio Mastercard/VISA Privatkunden:</b> 0,89%</li>
            <li><b>Disagio Mastercard/VISA Business und NICHT-EWR-RAUM:</b> 2,89%</li>
        </ul>
    </div>

</div>

</body>
</html>
