<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Kostenberechnung</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Tippy.js für Tooltips -->
    <link rel="stylesheet" href="https://unpkg.com/tippy.js@6/dist/tippy.css">
</head>
<body>
    <div class="container">
        <h1 data-lang="headline">Kostenberechnung</h1>
        <div class="language-selector">
            <label for="languageSelect">Sprache:</label>
            <select id="languageSelect">
                <option value="de">Deutsch</option>
                <option value="en">English</option>
            </select>
        </div>
        <div class="customer-info">
            <label for="salutation" data-lang="customerNameLabel">Anrede und Name:</label>
            <select id="salutation">
                <option value="Herr">Herr</option>
                <option value="Frau">Frau</option>
            </select>
            <input type="text" id="customerName" placeholder="Kundenname">
            <span id="customerNameError" class="error"></span>
        </div>
        <div class="tab">
            <button class="tab-link" onclick="openCalculator(event, 'pay')">PAY</button>
            <button class="tab-link" onclick="openCalculator(event, 'pos')">POS</button>
            <button class="tab-link" onclick="openCalculator(event, 'tools')">TOOLS</button>
        </div>

        <!-- PAY Rechner -->
        <div id="pay" class="tab-content">
            <h2>PAY Rechner</h2>
            <div class="form-group">
                <label for="calculationType" data-lang="calculationTypeLabel">Berechnungsart:</label>
                <select id="calculationType">
                    <option value="schnell" data-lang="quickCalculation">Schnelle Berechnung</option>
                    <option value="detailliert" data-lang="detailedCalculation">Ausführliche Berechnung</option>
                </select>
            </div>
            <div class="form-group">
                <label for="monthlyVolume" data-lang="monthlyVolumeLabel">Geplanter Kartenumsatz pro Monat (€):</label>
                <input type="number" id="monthlyVolume">
            </div>
            <div class="form-group">
                <label for="transactions" data-lang="transactionsLabel">Erwartete Anzahl an monatlichen Transaktionen:</label>
                <input type="number" id="transactions">
            </div>
            <div class="form-group">
                <label for="girocard" data-lang="girocardLabel">Girocard (%):</label>
                <input type="number" id="girocard">
            </div>
            <div class="form-group">
                <label for="mastercardVisa" data-lang="mastercardVisaLabel">Mastercard / VISA (%):</label>
                <input type="number" id="mastercardVisa">
            </div>
            <div class="form-group" id="maestroField">
                <label for="maestro" data-lang="maestroLabel">Maestro / VPAY (%):</label>
                <input type="number" id="maestro">
            </div>
            <div class="form-group" id="businessCardField">
                <label for="businessCard" data-lang="businessCardLabel">Business Card (%):</label>
                <input type="number" id="businessCard">
            </div>
            <div class="form-group">
                <label for="purchaseOption" data-lang="purchaseOptionLabel">Kauf oder Miete:</label>
                <select id="purchaseOption">
                    <option value="mieten" data-lang="rentOption">Mieten</option>
                    <option value="kaufen" data-lang="buyOption">Kaufen</option>
                </select>
            </div>
            <div class="form-group">
                <label for="hardware" data-lang="hardwareLabel">Hardware auswählen:</label>
                <select id="hardware">
                    <option value="S1F2" data-price-once="349.00" data-price-12="12.90" data-price-36="9.90" data-price-60="7.90">S1F2</option>
                    <option value="V400C" data-price-once="299.00" data-price-12="11.90" data-price-36="8.90" data-price-60="6.90">V400C</option>
                    <option value="V400M" data-price-once="379.00" data-price-12="13.90" data-price-36="10.90" data-price-60="8.90">V400M</option>
                </select>
            </div>
            <div class="form-group" id="rentalOptions">
                <label for="rentalPeriod" data-lang="rentalPeriodLabel">Mietdauer:</label>
                <select id="rentalPeriod">
                    <option value="12">12 Monate</option>
                    <option value="36">36 Monate</option>
                    <option value="60">60 Monate</option>
                </select>
            </div>
            <div id="competitorSection" class="hidden">
                <h3 data-lang="competitorFeesHeading">Wettbewerber Gebühren:</h3>
                <div class="form-group">
                    <label for="competitorGirocardFee" data-lang="competitorGirocardFeeLabel">Girocard Gebühr (%):</label>
                    <input type="number" id="competitorGirocardFee">
                </div>
                <div class="form-group" id="competitorMaestroField">
                    <label for="competitorMaestroFee" data-lang="competitorMaestroFeeLabel">Maestro / VPAY Gebühr (%):</label>
                    <input type="number" id="competitorMaestroFee">
                </div>
                <div class="form-group">
                    <label for="competitorMastercardVisaFee" data-lang="competitorMastercardVisaFeeLabel">Mastercard / VISA Gebühr (%):</label>
                    <input type="number" id="competitorMastercardVisaFee">
                </div>
                <div class="form-group" id="competitorBusinessCardField">
                    <label for="competitorBusinessCardFee" data-lang="competitorBusinessCardFeeLabel">Business Card Gebühr (%):</label>
                    <input type="number" id="competitorBusinessCardFee">
                </div>
            </div>
            <div class="notes">
                <h3 data-lang="feesNoteHeading">Hinweis zu den Gebühren:</h3>
                <ul>
                    <li data-lang="transactionFeeInfo">Transaktionspreis: 0,06 € pro Transaktion</li>
                    <li data-lang="girocardFeeInfoBelow">Girocard-Gebühr bis 10.000 € monatlich: 0,39%</li>
                    <li data-lang="girocardFeeInfoAbove">Girocard-Gebühr über 10.000 € monatlich: 0,29%</li>
                    <li data-lang="maestroFeeInfo">Disagio Maestro / VPAY: 0,89%</li>
                    <li data-lang="mastercardVisaFeeInfo">Disagio Mastercard/VISA Privatkunden: 0,89%</li>
                    <li data-lang="businessCardFeeInfo">Disagio Mastercard/VISA Business und NICHT-EWR-RAUM: 2,89%</li>
                </ul>
            </div>
            <!-- Rabatt -->
            <div class="form-group">
                <label for="payDiscountAmount">Rabattbetrag (€):</label>
                <input type="number" id="payDiscountAmount">
            </div>
            <div class="button-group">
                <button onclick="calculatePay()" data-lang="calculateButton">Berechnen</button>
                <button id="showEmailButton" data-lang="showEmailButton">Angebot per E-Mail anzeigen</button>
            </div>
            <div id="result"></div>
        </div>

        <!-- POS Rechner -->
        <div id="pos" class="tab-content">
            <h2 data-lang="posHeadline">POS Kostenberechnung</h2>
            <h3 data-lang="posHardwareLabel">Hardware-Komponenten:</h3>
            <div class="form-group">
                <label for="screenSunmi">15,6" Touchscreen Sunmi D2s Lite (Anzahl):</label>
                <input type="number" id="screenSunmi">
            </div>
            <div class="form-group">
                <label for="tseHardware">TSE Hardware (Anzahl):</label>
                <input type="number" id="tseHardware">
            </div>
            <div class="form-group">
                <label for="menuService">Speisekartendienstleistung (Anzahl):</label>
                <input type="number" id="menuService">
            </div>
            <div class="form-group">
                <label for="onSiteSetup">Vor-Ort Einrichtung (Anzahl):</label>
                <input type="number" id="onSiteSetup">
            </div>
            <h3 data-lang="posOptionalAccessories">Optionales Zubehör:</h3>
            <div class="form-group">
                <label for="mobileDevice">Mobiles Bestellgerät Sunmi PDA (Anzahl):</label>
                <input type="number" id="mobileDevice">
            </div>
            <div class="form-group">
                <label for="epsonPrinter">Bondrucker Epson TM-M30 (Anzahl):</label>
                <input type="number" id="epsonPrinter">
            </div>
            <div class="form-group">
                <label for="chargingStation">Ladestation (Anzahl):</label>
                <input type="number" id="chargingStation">
            </div>
            <div class="form-group">
                <label for="accessPoint">Access Point (Anzahl):</label>
                <input type="number" id="accessPoint">
            </div>
            <div class="form-group">
                <label for="posRouter">POS Router (Anzahl):</label>
                <input type="number" id="posRouter">
            </div>
            <div class="form-group">
                <label for="switchLite">Unifi Switch Lite 8 PoE (Anzahl):</label>
                <input type="number" id="switchLite">
            </div>
            <div class="form-group">
                <label for="cashDrawer">Kassenschublade (Anzahl):</label>
                <input type="number" id="cashDrawer">
            </div>
            <h3 data-lang="posMonthlyLicenses">Monatliche Lizenzen und Services:</h3>
            <div class="form-group">
                <label for="mainLicense">Hauptlizenz:</label>
                <input type="checkbox" id="mainLicense">
            </div>
            <div class="form-group">
                <label for="datevApi">DATEV API:</label>
                <input type="checkbox" id="datevApi">
            </div>
            <div class="form-group">
                <label for="voucherFunction">Gutschein Funktion:</label>
                <input type="checkbox" id="voucherFunction">
            </div>
            <div class="form-group">
                <label for="tapToPayLicense">Tap to Pay Lizenz:</label>
                <input type="checkbox" id="tapToPayLicense">
            </div>
            <!-- Rabatt -->
            <div class="form-group">
                <label for="posDiscountAmount">Rabattbetrag (€):</label>
                <input type="number" id="posDiscountAmount">
            </div>
            <div class="form-group">
                <label for="posFreeMonths">Kostenlose Monate:</label>
                <input type="number" id="posFreeMonths">
            </div>
            <div class="button-group">
                <button onclick="calculatePos()" data-lang="calculateButton">Berechnen</button>
                <button id="showEmailButtonPos" data-lang="showEmailButton">Angebot per E-Mail anzeigen</button>
            </div>
            <div id="posResult"></div>
        </div>

        <!-- TOOLS Rechner -->
        <div id="tools" class="tab-content">
            <h2 data-lang="toolsHeadline">TOOLS Kostenberechnung</h2>
            <h3 data-lang="toolsOptions">DISH Lösungen:</h3>
            <div class="form-group">
                <label for="dishStarter">DISH Starter:</label>
                <input type="checkbox" id="dishStarter">
            </div>
            <div class="form-group">
                <label for="dishReservation">DISH Reservation:</label>
                <input type="checkbox" id="dishReservation">
                <select id="dishReservationDuration">
                    <option value="36">36 Monate</option>
                    <option value="12">12 Monate</option>
                    <option value="3">3 Monate</option>
                </select>
            </div>
            <div class="form-group">
                <label for="dishOrder">DISH Order:</label>
                <input type="checkbox" id="dishOrder">
                <select id="dishOrderDuration">
                    <option value="12">12 Monate</option>
                    <option value="3">3 Monate</option>
                </select>
            </div>
            <div class="form-group">
                <label for="dishPremium">DISH Premium:</label>
                <input type="checkbox" id="dishPremium">
                <select id="dishPremiumDuration">
                    <option value="12">12 Monate</option>
                    <option value="3">3 Monate</option>
                </select>
            </div>
            <!-- Rabatt -->
            <div class="form-group">
                <label for="toolsDiscountAmount">Rabattbetrag (€):</label>
                <input type="number" id="toolsDiscountAmount">
            </div>
            <div class="form-group">
                <label for="toolsFreeMonths">Kostenlose Monate:</label>
                <input type="number" id="toolsFreeMonths">
            </div>
            <div class="button-group">
                <button onclick="calculateTools()" data-lang="calculateButton">Berechnen</button>
                <button id="showEmailButtonTools" data-lang="showEmailButton">Angebot per E-Mail anzeigen</button>
            </div>
            <div id="toolsResult"></div>
        </div>
    </div>

    <!-- Email Content Modal -->
    <div id="emailContentContainer" class="hidden">
        <div id="emailContentWrapper">
            <button id="closeEmailButton" data-lang="closeButton">Schließen</button>
            <div id="emailContent"></div>
        </div>
    </div>

    <!-- Einbindung der JavaScript-Datei -->
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
    <script src="script.js"></script>
</body>
</html>
