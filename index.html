<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DISH PAY Rechner</title>
    <!-- Verlinkung der CSS-Datei -->
    <link rel="stylesheet" href="styles.css">
    <!-- Einbindung von Font Awesome für Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <h1>DISH PAY Rechner</h1>

        <!-- Kundeninformationen -->
        <div class="customer-input">
            <div class="flex-row">
                <div class="flex-item">
                    <label for="gender">Anrede:</label>
                    <select id="gender">
                        <option value="Herr">Herr</option>
                        <option value="Frau">Frau</option>
                    </select>
                </div>
                <div class="flex-item">
                    <label for="customerName">Kundenname:<span class="required">*</span></label>
                    <input type="text" id="customerName" placeholder="Vor- und Nachname" required>
                </div>
            </div>
        </div>

        <!-- Berechnungsart -->
        <label for="calculationType">Berechnungsart:</label>
        <select id="calculationType" onchange="toggleCalculationFields()">
            <option value="schnell">Schnelle Berechnung</option>
            <option value="ausführlich">Ausführliche Berechnung</option>
        </select>

        <!-- Eingabefelder für Berechnung -->
        <div class="input-group">
            <label for="monthlyVolume">Geplanter Kartenumsatz pro Monat (€):<span class="required">*</span>
                <i class="fa fa-info-circle" title="Der erwartete Gesamtumsatz aller Kartenzahlungen pro Monat."></i>
            </label>
            <input type="number" id="monthlyVolume" placeholder="z.B. 20000" required>
            <small class="error-message" id="monthlyVolumeError"></small>
        </div>

        <div class="input-group">
            <label for="transactions">Erwartete Anzahl an monatlichen Transaktionen:<span class="required">*</span>
                <i class="fa fa-info-circle" title="Die geschätzte Anzahl der Kartenzahlungen pro Monat."></i>
            </label>
            <input type="number" id="transactions" placeholder="z.B. 400" required>
            <small class="error-message" id="transactionsError"></small>
        </div>

        <!-- Prozentangaben für Kartentypen -->
        <div class="input-group">
            <label>Kartenarten Anteil (Summe muss 100% ergeben):</label>
            <div class="percentage-group">
                <label for="girocard">Girocard (%):<span class="required">*</span>
                    <i class="fa fa-info-circle" title="Der prozentuale Anteil der Girocard-Zahlungen am Gesamtumsatz."></i>
                </label>
                <input type="number" id="girocard" placeholder="z.B. 70" required>
            </div>
            <div class="percentage-group">
                <label for="mastercardVisa">Mastercard / VISA (%):<span class="required">*</span>
                    <i class="fa fa-info-circle" title="Der prozentuale Anteil der Mastercard/VISA-Zahlungen am Gesamtumsatz."></i>
                </label>
                <input type="number" id="mastercardVisa" placeholder="z.B. 30" required>
            </div>
            <!-- Zusätzliche Felder für ausführliche Berechnung -->
            <div id="vpayField" class="hidden percentage-group">
                <label for="vpay">Maestro / VPAY (%):</label>
                <input type="number" id="vpay" placeholder="z.B. 0">
            </div>
            <div id="businessCardField" class="hidden percentage-group">
                <label for="businessCard">Business Card (%):</label>
                <input type="number" id="businessCard" placeholder="z.B. 0">
            </div>
            <small class="error-message" id="percentageError"></small>
        </div>

        <!-- Wettbewerber -->
        <div id="competitorSection" class="competitor-section hidden">
            <h3>Wettbewerber Gebühren:</h3>
            <div class="input-group">
                <label for="competitorGirocard">Girocard Gebühr (%):</label>
                <input type="number" id="competitorGirocard" placeholder="z.B. 0.9">
            </div>
            <div class="input-group">
                <label for="competitorMaestro">Maestro / VPAY Gebühr (%):</label>
                <input type="number" id="competitorMaestro" placeholder="z.B. 0.9">
            </div>
            <div class="input-group">
                <label for="competitorMastercardVisa">Mastercard / VISA Gebühr (%):</label>
                <input type="number" id="competitorMastercardVisa" placeholder="z.B. 1.9">
            </div>
            <div class="input-group">
                <label for="competitorBusinessCard">Business Card Gebühr (%):</label>
                <input type="number" id="competitorBusinessCard" placeholder="z.B. 3.0">
            </div>
        </div>

        <!-- Kauf oder Miete -->
        <label for="purchaseOption">Kauf oder Miete:</label>
        <select id="purchaseOption">
            <option value="mieten">Mieten</option>
            <option value="kaufen">Kaufen</option>
        </select>

        <!-- Hardware -->
        <label for="hardware">Hardware auswählen:</label>
        <select id="hardware">
            <option value="S1F2">S1F2 Terminal</option>
            <option value="V400C">V400C Terminal</option>
            <option value="Moto G14">Moto G14 Terminal</option>
            <option value="Tap2Pay">Tap2Pay Lizenz</option>
        </select>

        <!-- Berechnen und PDF-Buttons -->
        <button onclick="calculateCosts()">Berechnen</button>
        <button id="downloadPdfButton" disabled onclick="generatePDF()">PDF Angebot herunterladen</button>

        <!-- Ergebnisbereich -->
        <div id="resultArea" class="result-section"></div>

        <!-- Gebührenhinweis -->
        <h4>Hinweis zu den Gebühren:</h4>
        <p>Transaktionspreis: 0,06 € pro Transaktion</p>
        <p>Girocard-Gebühr bis 10.000 € monatlich: 0,39%</p>
        <p>Girocard-Gebühr über 10.000 € monatlich: 0,29%</p>
        <p>Disagio Maestro / VPAY: 0,89%</p>
        <p>Disagio Mastercard/VISA Privatkunden: 0,89%</p>
        <p>Disagio Mastercard/VISA Business und NICHT-EWR-RAUM: 2,89%</p>
    </div>

    <!-- JavaScript-Dateien einbinden -->
    <!-- Einbindung von jsPDF und jsPDF-AutoTable -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>

    <!-- Eigene Skripte -->
    <script src="script.js"></script>
    <script src="pdf-generator.js"></script>
</body>
</html>
